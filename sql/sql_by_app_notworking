SELECT materials.id AS materials_id, materials.private AS materials_private, materials.user_group_id AS materials_user_group_id, materials."titleEN" AS "materials_titleEN", materials."titleDE" AS "materials_titleDE", materials.standard_uom_id AS materials_standard_uom_id, materials.bls_code AS materials_bls_code, materials.ndb_code AS materials_ndb_code, materials."isBaseFood" AS "materials_isBaseFood", materials."parentBaseFood" AS "materials_parentBaseFood", materials.created AS materials_created, materials.uom_nutrient_value AS materials_uom_nutrient_value, materials.food_maingroup_id AS materials_food_maingroup_id, materials.food_subgroup_id AS materials_food_subgroup_id, materials.food_processing_type_id AS materials_food_processing_type_id, materials.food_preparation_type_id AS materials_food_preparation_type_id, materials.food_edible_weight_id AS materials_food_edible_weight_id
FROM inventory_items, materials 
LEFT OUTER JOIN ingredients ON materials.id = ingredients.material_id 
LEFT OUTER JOIN (SELECT inventory_items.id AS id, inventory_items.inventory_id AS inventory_id, inventory_items."titleEN" AS "titleEN", inventory_items."titleDE" AS "titleDE", inventory_items.status AS status, inventory_items.sku_uom AS sku_uom, inventory_items.material_id AS material_id, inventory_items.level AS level, inventory_items.re_order_level AS re_order_level, inventory_items.re_order_quantity AS re_order_quantity, inventory_items.ignore_forecast AS ignore_forecast, inventory_items.created AS created
FROM inventory_items
WHERE inventory_items.inventory_id = 3) AS anon_1 ON materials.id = anon_1.material_id
WHERE ingredients.meal_id = 9 AND inventory_items.material_id IS NULL